#!/bin/bash

[[ ! -d "$EXT_XDG_DOTFILES_DIR" ]] && echo "\$EXT_XDG_DOTFILES_DIR doesn't exist." && exit 1
if [ -x "$(command -v stow)" ]; then
  DIRS=$(ls -l "$EXT_XDG_DOTFILES_DIR" | grep "^d" | rev | cut -d' ' -f 1 | rev)
  stow -R --no-folding --verbose=1 --dir="$EXT_XDG_DOTFILES_DIR" --target="$HOME" $@ $DIRS
  echo "Done."
else
  echo "stow not found. Aborting"
fi
